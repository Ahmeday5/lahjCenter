<div class="container-fluid mt-5">
  <div class="details d-flex flex-wrap">
    <div class="col-12">

      <!-- Loading -->
      @if (loading) {
      <div class="text-center mt-4">
        <div class="spinner-border text-primary" role="status">
          <span class="visually-hidden">جاري التحميل...</span>
        </div>
      </div>
      }

      <!-- Error Message -->
      @if (errorMessage) {
      <div class="alert alert-danger mt-3" role="alert">
        {{ errorMessage }}
      </div>
      }

      <!-- Success Message -->
      @if (successMessage) {
      <div class="alert alert-success mt-3" role="alert">
        {{ successMessage }}
      </div>
      }

      <!-- Title -->
      <h1 class="text-center mt-4 mb-4">تعديل الفئة الفرعية</h1>

      <!-- Form -->
      <form class="mt-3" (ngSubmit)="updateSubGroup()" #subgroupForm="ngForm">
        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="arName" class="form-label">الاسم بالعربية</label>
            <input
              type="text"
              class="form-control"
              id="arName"
              [(ngModel)]="subgroup.arName"
              name="arName"
              required>
          </div>

          <div class="col-md-6 mb-3">
            <label for="enName" class="form-label">الاسم بالإنجليزية</label>
            <input
              type="text"
              class="form-control"
              id="enName"
              [(ngModel)]="subgroup.enName"
              name="enName"
              required>
          </div>

          <div class="col-md-6 mb-3">
            <label for="groupId" class="form-label">الفئة الرئيسية</label>
            <select
              class="form-control"
              id="groupId"
              [(ngModel)]="subgroup.groupId"
              name="groupId"
              required>
              <option value="">اختر الفئة الرئيسية</option>
              @for (group of groups; track group.id) {
              <option [value]="group.id">{{ group.arName }}</option>
              }
            </select>
          </div>

          <div class="col-md-12 mt-5 buttons d-flex justify-content-center">
            <button
              type="submit"
              class="btn btn-edit w-25"
              [disabled]="subgroupForm.invalid || loading">
              حفظ التعديل
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
